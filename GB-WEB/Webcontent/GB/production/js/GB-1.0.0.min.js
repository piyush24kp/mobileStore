/*! GB-1.0.0 2017-05-18 */
"use strict";!function(){angular.module("app",["app.core","app.layout","app.widgets"])}(),function(){angular.module("app").config(["$routeProvider","$locationProvider",function(a,b){a.when("/home",{templateUrl:"GB/app/layout/screens/home/home.tmpl.html",controller:"homeCtr",controllerAs:"vm"}).when("/billing",{templateUrl:"GB/app/layout/screens/billing/billing.tmpl.html",controller:"billingCtr",controllerAs:"vm"}).when("/login",{templateUrl:"GB/app/layout/screens/login/login.tmpl.html",controller:"loginCtr",controllerAs:"vm"}).otherwise({redirectTo:"/home"})}]).config(["$httpProvider",function(a){a.defaults.headers.common={Accept:"application/json;charset=utf-8","Content-Type":"application/json; charset=utf-8"}}])}(),function(){angular.module("app.widgets",[])}(),function(){angular.module("app.core",["ngAnimate","ngRoute","ngSanitize","ui.bootstrap","ngCookies","ngTouch","ngMaterial","smart-table"])}(),function(){angular.module("app.layout",[])}(),function(){function a(a,b,c){function d(a,c,d){function e(c){var d=a.options;b.open({animation:d.animation,templateUrl:d.templateUrl,controller:["$scope","$document","$rootScope","$window","$uibModalInstance","config","$timeout",function(b,c,e,f,g,h,i){b.isShow=!0,b.modalData=a.modaldata,b.modalopt=d,b.image=e.image,b.typeImage=!1,b.typeVideo=!1,"image"===e.type&&(b.typeImage=!0);b.cancelModal=function(){g.dismiss("cancel")},b.$on("cancelModal",function(a,b){g.dismiss("cancel")}),b.$on("$locationChangeStart",function(a,b,c){g.dismiss("cancel")})}],size:d.size,resolve:{}})}var f=500,g=0,h=null;c.on("click",function(b){g++,1===g?h=setTimeout(function(){a.$apply(function(){e(b)}),g=0},f):(clearTimeout(h),g=0)})}var e={link:d,restrict:"A",scope:{modaldata:"=",options:"="}};return e}angular.module("app.widgets").directive("modelBox",a),a.$inject=["$q","$uibModal","$location"]}(),function(){function a(a,b,c){function d(a,b){return b&&(b.uid?a=a+"?uid="+b.uid:b.name&&(a=a+"?name="+b.name)),a}function e(b){var e="/stock/getOrders";return e=d(e,b),a.get(c.APIurl+e,b).then(o)}function f(b){var d="/stock/setOrders";return a.post(c.APIurl+d,b).then(o)}function g(b){var d="/stock/createSupplier";return a.post(c.APIurl+d,b).then(o)}function h(b){var d="/billing/setSellOrder";return a.post(c.APIurl+d,b).then(o)}function i(b){var d="/stock/createBrands";return a.post(c.APIurl+d,b).then(o)}function j(b){var d="/stock/getSupplier";return a.get(c.APIurl+d,b).then(o)}function k(b){var d="/stock/getSupplierId";return a.get(c.APIurl+d,b).then(o)}function l(b){var d="/stock/getBrands";return a.get(c.APIurl+d,b).then(o)}function m(b){var d="/stock/getModelById";return d=d+"?id="+b,a.get(c.APIurl+d,b).then(o)}function n(b){var d="/billing/getSellOrders";return a.get(c.APIurl+d,b).then(o)}function o(a,b){return a}var p={getParamUrl:d,getOrders:e,createOrder:f,createSupplier:g,getSupplier:j,getSupplierId:k,getBrand:l,getModel:l,changeBrand:m,saveBrand:i,getSellOrders:n,setSellOrder:h};return p}angular.module("app.widgets").factory("authfactory",a),a.$inject=["$http","$q","config"]}(),function(){function a(a,b,c){function d(b){var d="http://ajax.googleapis.com/ajax/services/feed/load";return b.url=c.newsUrl,d=f(d,b),a.jsonp(d)}function e(b){var d="http://ajax.googleapis.com/ajax/services/feed/load";return b.url=c.blogsUrl,d=f(d,b),a.jsonp(d)}function f(a,b){return b&&(a+="?v=1.0",b.num&&(a=a+"&num="+b.num),a+="&callback=JSON_CALLBACK",a=a+"&q="+encodeURIComponent(b.url)),a}var g={getNews:d,getBlogs:e,getParamUrl:f};return g}angular.module("app.widgets").factory("Feeds",a),a.$inject=["$http","$q","config"]}(),function(){function a(a){function b(a){for(var b=document.cookie.split("; "),c=0;c<b.length;c++){var d=b[c].split("~=");if(a===d[0]){var e="";try{e=angular.fromJson(d[1])}catch(f){e=unescape(d[1])}return e}}return null}return function(a,c){if(1===arguments.length)return b(a);var d=a+"~=";if("object"==typeof c){var e="";if(d+="object"==typeof c.value?angular.toJson(c.value)+";":c.value+";",c.expires){var f=new Date;f.setTime(f.getTime()+24*c.expires*60*60*1e3),e=f.toGMTString()}d+=c.session?"":"expires="+e+";",d+=c.path?"path="+c.path+";":"",d+=c.secure?"secure;":""}else d+=c+";";document.cookie=d}}angular.module("app.widgets").factory("rememberFact",a),a.$inject=["$filter"]}(),function(){angular.module("app.core").constant("toastr",toastr).constant("moment",moment)}(),function(){function a(a){a.options.timeOut=4e3,a.options.positionClass="toast-bottom-right",a.options.tapToDismiss=!0}function b(a,b,c,d,e){}var c=angular.module("app.core");c.config(a),a.$inject=["toastr"];var d={appErrorPrefix:"[APP Error] ",appTitle:"GB",version:"1.0.0",APIurl:"http://localhost:9090"};c.value("config",d),c.run(b),b.$inject=["$rootScope","$location","config","$cookies","$window"]}(),function(){function a(a,b,c,d){function e(){}e()}angular.module("app.layout").controller("LayoutCtr",a),a.$inject=["$timeout","$filter","$q","config"]}(),function(){function a(a,b,c,d,e,f,g,h,i){function j(){n.getSellOrders()}function k(){return m(),i.getSellOrders(o).then(function(a){200===a.status&&(a=a.data.databean,n.sellDetail=a,n.sellDetailList=a)},function(a){return!1})}function l(a){m(),"supplier"===a?n.getSupplier():"brand"===a?n.getBrand():"model"===a&&n.getModel()}function m(){o={}}var n=this,o={};n.itemsByPage=10,n.getSellOrders=k,n.selectTab=l,j()}angular.module("app.layout").controller("billingCtr",a),a.$inject=["$timeout","$filter","$q","config","$rootScope","$cookies","$scope","$location","authfactory"]}(),function(){function a(a,b,c,d,e,f,g,h,i){function j(){}function k(){return p(),i.getOrders(r).then(function(a){200===a.status&&(a=a.data.databean,q.orderDetails=a,q.rowCollection=a)},function(a){return!1})}function l(){return p(),i.getSupplier(r).then(function(a){200===a.status&&(a=a.data.databean,q.supplierDetail=a,q.suppDetailCollection=a)},function(a){return!1})}function m(){return p(),i.getBrand(r).then(function(a){200===a.status&&(a=a.data.databean,q.brandDetail=a,q.brandDetailList=a)},function(a){return!1})}function n(){return p(),i.getModel(r).then(function(a){200===a.status&&(a=a.data.databean,q.modelDetail=a,q.modelDetailList=a)},function(a){return!1})}function o(a){p(),"supplier"===a?q.getSupplier():"brand"===a?q.getBrand():"model"===a&&q.getModel()}function p(){r={}}var q=this,r={};q.allUsers=[],q.myInterval=5e3,q.noWrapSlides=!1,q.active=0,q.itemsByPage=10;var s=0;q.slides=[{image:"GB/assets/images/carousel-1.jpg",text:["Nice image","Awesome photograph","That is so cool","I love that"],id:s++},{image:"GB/assets/images/carousel-2.jpg",text:["Nice image","Awesome photograph","That is so cool","I love that"],id:s++},{image:"GB/assets/images/carousel-3.jpg",text:["Nice image","Awesome photograph","That is so cool","I love that"],id:s++}],j(),q.getOrders=k,q.getOrders(),e.$on("addOrder",function(a,b){q.orderDetails.push(b.order),q.rowCollection.push(b.order)}),e.$on("brandOrder",function(a,b){q.brandDetail.push(b.brand),q.brandDetailList.push(b.brand)}),q.getSupplier=l,q.getBrand=m,q.getModel=n,q.selectTab=o}angular.module("app.layout").controller("homeCtr",a),a.$inject=["$timeout","$filter","$q","config","$rootScope","$cookies","$scope","$location","authfactory"]}(),function(){function a(a,b,c,d,e,f,g,h,i){}angular.module("app.layout").controller("loginCtr",a),a.$inject=["$timeout","$filter","$q","config","$rootScope","$cookies","$scope","$location","authfactory"]}(),function(){function a(a,b,c,d,e,f,g,h,i){function j(){return i.saveBrand(m.order).then(function(a){if(200===a.status)return a=a.data.databean,g.$emit("brandOrder",{brand:a}),g.$emit("cancelModal"),a},function(a){return!1})}function k(){return i.getBrand(n).then(function(a){200===a.status&&(a=a.data.databean,m.brandDetail=a)},function(a){return!1})}function l(a){return i.changeBrand(a).then(function(a){200===a.status&&(a=a.data.databean,m.modelDetail=a)},function(a){return!1})}var m=this;m.order={};var n={};m.ok=function(){return i.createOrder(m.order).then(function(a){if(200===a.status)return a=a.data.databean,g.$emit("addOrder",{order:a}),g.$emit("cancelModal"),a},function(a){return!1})},m.setSellOrder=function(){return i.setSellOrder(m.order).then(function(a){if(200===a.status)return a=a.data.databean,g.$emit("sellOrder",{order:a}),g.$emit("cancelModal"),a},function(a){return!1})},m.saveSupplier=function(){return i.createSupplier(m.order).then(function(a){if(200===a.status)return a=a.data.databean,g.$emit("supplierOrder",{supplier:a}),g.$emit("cancelModal"),a},function(a){return!1})},m.saveBrand=j,m.getSuppliers=function(){return i.getSupplierId().then(function(a){if(200===a.status)return a=a.data.databean,m.suppliyers=a,a},function(a){return!1})},m.getSuppliers(),m.getBrand=k,m.getBrand(),m.changeBrand=l,m.cancel=function(){g.$emit("cancelModal")}}angular.module("app.layout").controller("addModalCtr",a),a.$inject=["$timeout","$filter","$q","config","$rootScope","$cookies","$scope","$location","authfactory"]}(),function(){function a(a,b,c,d,e,f,g,h){function i(){}i()}angular.module("app.layout").controller("ShellCtr",a),a.$inject=["$timeout","$filter","$q","config","$rootScope","$cookies","$scope","$location"]}();