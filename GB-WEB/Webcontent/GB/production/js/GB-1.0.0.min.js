/*! GB-1.0.0 2017-05-19 */
"use strict";!function(){angular.module("app",["app.core","app.layout","app.widgets"])}(),function(){angular.module("app").config(["$routeProvider","$locationProvider",function(a,b){a.when("/home",{templateUrl:"GB/app/layout/screens/home/home.tmpl.html",controller:"homeCtr",controllerAs:"vm"}).when("/billing",{templateUrl:"GB/app/layout/screens/billing/billing.tmpl.html",controller:"billingCtr",controllerAs:"vm"}).when("/login",{templateUrl:"GB/app/layout/screens/login/login.tmpl.html",controller:"loginCtr",controllerAs:"vm"}).when("/error",{templateUrl:"GB/app/layout/screens/contactAdmin.tmpl.html"}).otherwise({redirectTo:"/error"})}]).config(["$httpProvider",function(a){a.defaults.headers.common={Accept:"application/json;charset=utf-8","Content-Type":"application/json; charset=utf-8"}}])}(),function(){angular.module("app.widgets",[])}(),function(){angular.module("app.core",["ngAnimate","ngRoute","ngSanitize","ui.bootstrap","ngCookies","ngTouch","ngMaterial","smart-table"])}(),function(){angular.module("app.layout",[])}(),function(){function a(a,b,c){function d(a,c,d){function e(c){var d=a.options;b.open({animation:d.animation,templateUrl:d.templateUrl,controller:["$scope","$document","$rootScope","$window","$uibModalInstance","config","$timeout",function(b,c,e,f,g,h,i){b.isShow=!0,b.modalData=a.modaldata,b.modalopt=d,b.image=e.image,b.typeImage=!1,b.typeVideo=!1,"image"===e.type&&(b.typeImage=!0);b.cancelModal=function(){g.dismiss("cancel")},b.$on("cancelModal",function(a,b){g.dismiss("cancel")}),b.$on("$locationChangeStart",function(a,b,c){g.dismiss("cancel")})}],size:d.size,resolve:{}})}var f=500,g=0,h=null;c.on("click",function(b){g++,1===g?h=setTimeout(function(){a.$apply(function(){e(b)}),g=0},f):(clearTimeout(h),g=0)})}var e={link:d,restrict:"A",scope:{modaldata:"=",options:"="}};return e}angular.module("app.widgets").directive("modelBox",a),a.$inject=["$q","$uibModal","$location"]}(),function(){function a(a,b,c){function d(a,b){return b&&(b.uid?a=a+"?uid="+b.uid:b.name&&(a=a+"?name="+b.name)),a}function e(b){var e="/stock/getOrders";return e=d(e,b),a.get(c.APIurl+e,b).then(s)}function f(b){var d="/stock/setOrders";return a.post(c.APIurl+d,b).then(s)}function g(b){var d="/stock/createSupplier";return a.post(c.APIurl+d,b).then(s)}function h(b){var d="/billing/setSellOrder";return a.post(c.APIurl+d,b).then(s)}function i(b){var d="/stock/createBrands";return a.post(c.APIurl+d,b).then(s)}function j(b){var d="/stock/setModel";return a.post(c.APIurl+d,b).then(s)}function k(b){var d="/stock/updateOrder";return a.post(c.APIurl+d,b).then(s)}function l(b){var d="/stock/getSupplier";return a.get(c.APIurl+d,b).then(s)}function m(b){var d="/stock/getSupplierId";return a.get(c.APIurl+d,b).then(s)}function n(b){var d="/stock/getBrands";return a.get(c.APIurl+d,b).then(s)}function o(b){var d="/stock/getModels";return a.get(c.APIurl+d,b).then(s)}function p(b){var d="/stock/getModelById";return d=d+"?id="+b,a.get(c.APIurl+d,b).then(s)}function q(b){var d="/billing/getSellOrders";return a.get(c.APIurl+d,b).then(s)}function r(b){var d="/stock/deleteOrder";return d=d+"?id="+b,a.get(c.APIurl+d,b).then(s)}function s(a,b){return a}var t={getParamUrl:d,getOrders:e,createOrder:f,createSupplier:g,getSupplier:l,getSupplierId:m,getBrand:n,getModel:o,changeBrand:p,saveBrand:i,getSellOrders:q,setSellOrder:h,saveModel:j,updateStock:k,deleteStock:r};return t}angular.module("app.widgets").factory("authfactory",a),a.$inject=["$http","$q","config"]}(),function(){function a(a,b,c){function d(b){var d="http://ajax.googleapis.com/ajax/services/feed/load";return b.url=c.newsUrl,d=f(d,b),a.jsonp(d)}function e(b){var d="http://ajax.googleapis.com/ajax/services/feed/load";return b.url=c.blogsUrl,d=f(d,b),a.jsonp(d)}function f(a,b){return b&&(a+="?v=1.0",b.num&&(a=a+"&num="+b.num),a+="&callback=JSON_CALLBACK",a=a+"&q="+encodeURIComponent(b.url)),a}var g={getNews:d,getBlogs:e,getParamUrl:f};return g}angular.module("app.widgets").factory("Feeds",a),a.$inject=["$http","$q","config"]}(),function(){function a(a){function b(a){for(var b=document.cookie.split("; "),c=0;c<b.length;c++){var d=b[c].split("~=");if(a===d[0]){var e="";try{e=angular.fromJson(d[1])}catch(f){e=unescape(d[1])}return e}}return null}return function(a,c){if(1===arguments.length)return b(a);var d=a+"~=";if("object"==typeof c){var e="";if(d+="object"==typeof c.value?angular.toJson(c.value)+";":c.value+";",c.expires){var f=new Date;f.setTime(f.getTime()+24*c.expires*60*60*1e3),e=f.toGMTString()}d+=c.session?"":"expires="+e+";",d+=c.path?"path="+c.path+";":"",d+=c.secure?"secure;":""}else d+=c+";";document.cookie=d}}angular.module("app.widgets").factory("rememberFact",a),a.$inject=["$filter"]}(),function(){angular.module("app.core").constant("toastr",toastr).constant("moment",moment)}(),function(){function a(a){a.options.timeOut=4e3,a.options.positionClass="toast-bottom-right",a.options.tapToDismiss=!0}function b(a,b,c,d,e){}var c=angular.module("app.core");c.config(a),a.$inject=["toastr"];var d={appErrorPrefix:"[APP Error] ",appTitle:"GB",version:"1.0.0",APIurl:"http://localhost:9090"};c.value("config",d),c.run(b),b.$inject=["$rootScope","$location","config","$cookies","$window"]}(),function(){function a(a,b,c,d){function e(){}e()}angular.module("app.layout").controller("LayoutCtr",a),a.$inject=["$timeout","$filter","$q","config"]}(),function(){function a(a,b,c,d,e,f,g,h,i){function j(){n.getSellOrders()}function k(){return m(),i.getSellOrders(o).then(function(a){200===a.status&&(a=a.data.databean,n.sellDetail=a,n.sellDetailList=a)},function(a){return!1})}function l(a){m(),"supplier"===a?n.getSupplier():"brand"===a?n.getBrand():"model"===a&&n.getModel()}function m(){o={}}var n=this,o={};n.itemsByPage=10,n.getSellOrders=k,n.selectTab=l,j()}angular.module("app.layout").controller("billingCtr",a),a.$inject=["$timeout","$filter","$q","config","$rootScope","$cookies","$scope","$location","authfactory"]}(),function(){function a(a,b,c,d,e,f,g,h,i){function j(){}function k(){return q(),i.getOrders(s).then(function(a){200===a.status&&(a=a.data.databean,r.orderDetails=a,r.rowCollection=a)},function(a){return!1})}function l(){return q(),i.getSupplier(s).then(function(a){200===a.status&&(a=a.data.databean,r.supplierDetail=a,r.suppDetailCollection=a)},function(a){return!1})}function m(){return q(),i.getBrand(s).then(function(a){200===a.status&&(a=a.data.databean,r.brandDetail=a,r.brandDetailList=a)},function(a){return!1})}function n(){return q(),i.getModel(s).then(function(a){200===a.status&&(a=a.data.databean,r.modelDetail=a,r.modelDetailList=a)},function(a){return!1})}function o(a){var b=confirm("Are you sure you want to delete ?");return!!b&&i.deleteStock(a).then(function(a){200===a.status&&(a=a.data.databean,toastr.success("Deleted Successfully."))},function(a){return toastr.error(a.message),!1})}function p(a){q(),"supplier"===a?r.getSupplier():"brand"===a?r.getBrand():"model"===a&&r.getModel()}function q(){s={}}var r=this,s={};r.allUsers=[],r.myInterval=5e3,r.noWrapSlides=!1,r.active=0,r.itemsByPage=10;var t=0;r.slides=[{image:"GB/assets/images/carousel-1.jpg",text:["Nice image","Awesome photograph","That is so cool","I love that"],id:t++},{image:"GB/assets/images/carousel-2.jpg",text:["Nice image","Awesome photograph","That is so cool","I love that"],id:t++},{image:"GB/assets/images/carousel-3.jpg",text:["Nice image","Awesome photograph","That is so cool","I love that"],id:t++}],j(),r.getOrders=k,r.getOrders(),e.$on("addOrder",function(a,b){r.orderDetails.push(b.order),r.rowCollection.push(b.order)}),e.$on("supplierOrder",function(a,b){r.supplierDetail.push(b.brand),r.suppDetailCollection.push(b.brand)}),e.$on("brandOrder",function(a,b){r.brandDetail.push(b.brand),r.brandDetailList.push(b.brand)}),e.$on("modelOrder",function(a,b){r.modelDetail.push(b.brand),r.modelDetailList.push(b.brand)}),r.getSupplier=l,r.getBrand=m,r.getModel=n,r.deleteStock=o,r.selectTab=p}angular.module("app.layout").controller("homeCtr",a),a.$inject=["$timeout","$filter","$q","config","$rootScope","$cookies","$scope","$location","authfactory"]}(),function(){function a(a,b,c,d,e,f,g,h,i){}angular.module("app.layout").controller("loginCtr",a),a.$inject=["$timeout","$filter","$q","config","$rootScope","$cookies","$scope","$location","authfactory"]}(),function(){function a(a,b,c,d,e,f,g,h,i){function j(){return i.saveBrand(o.order).then(function(a){if(200===a.status)return a=a.data.databean,g.$emit("brandOrder",{brand:a}),toastr.success("Brand Added"),g.$emit("cancelModal"),a},function(a){return toastr.success("Something Went Wrong"),!1})}function k(){return i.saveModel(o.order).then(function(a){if(200===a.status)return a=a.data.databean,g.$emit("modelOrder",{model:a}),toastr.success("Model Added"),g.$emit("cancelModal"),a},function(a){return toastr.success("Something Went Wrong"),!1})}function l(){return i.updateStock(o.order).then(function(a){if(200===a.status)return a=a.data.databean,toastr.success("Stock Updated"),g.$emit("cancelModal"),a},function(a){return toastr.success("Something Went Wrong"),!1})}function m(){return i.getBrand(p).then(function(a){200===a.status&&(a=a.data.databean,o.brandDetail=a)},function(a){return!1})}function n(a){return!!a&&i.changeBrand(a).then(function(a){200===a.status&&(a=a.data.databean,o.modelDetail=a,r&&(o.dirtyCheck=!0))},function(a){return!1})}var o=this;o.order={};var p={},q={},r={};o.dirtyCheck=!1,g.popup1={opened:!1},g.format="dd-MMMM-yyyy",g.altInputFormats=["M!/d!/yyyy"],g.dateOptions={formatYear:"yy",startingDay:1},g.open1=function(){g.popup1.opened=!0},angular.copy(g.modalData,r),angular.copy(g.modalopt,q),r&&q&&("stock"===q.type?(o.order=r,o.order.brand=r.brand.brandId,o.order.model=r.model.modelId,o.order.suppliedBy=r.suppliedBy.supplierId):"supplier"===q.type||"brand"===q.type||"model"===q.type,o.editMode=!0),o.ok=function(){return i.createOrder(o.order).then(function(a){if(200===a.status)return a=a.data.databean,g.$emit("addOrder",{order:a}),toastr.success("Stock Added"),g.$emit("cancelModal"),a},function(a){return toastr.error("Something Went Wrong"),!1})},o.setSellOrder=function(){return i.setSellOrder(o.order).then(function(a){if(200===a.status)return a=a.data.databean,g.$emit("sellOrder",{order:a}),toastr.success("Order Selled"),g.$emit("cancelModal"),a},function(a){return toastr.error("Something Went Wrong"),!1})},o.saveSupplier=function(){return i.createSupplier(o.order).then(function(a){if(200===a.status)return a=a.data.databean,g.$emit("supplierOrder",{supplier:a}),toastr.success("Suppliyer Added"),g.$emit("cancelModal"),a},function(a){return toastr.error("Something Went Wrong"),!1})},o.saveBrand=j,o.saveModel=k,o.updateStock=l,o.getSuppliers=function(){return i.getSupplierId().then(function(a){if(200===a.status)return a=a.data.databean,o.suppliyers=a,a},function(a){return!1})},o.getSuppliers(),o.getBrand=m,o.getBrand(),o.changeBrand=n,o.changeBrand(o.order.brand),o.cancel=function(){g.$emit("cancelModal")}}angular.module("app.layout").controller("addModalCtr",a),a.$inject=["$timeout","$filter","$q","config","$rootScope","$cookies","$scope","$location","authfactory"]}(),function(){function a(a,b,c,d,e,f,g,h){function i(){}i()}angular.module("app.layout").controller("ShellCtr",a),a.$inject=["$timeout","$filter","$q","config","$rootScope","$cookies","$scope","$location"]}();